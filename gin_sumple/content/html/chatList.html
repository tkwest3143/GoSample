<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="UTF-8" />
    <link rel="stylesheet" href="/css/style.css" />
    <link rel="stylesheet" href="/css/bootstrap.min.css" />
    <title>Gin Application</title>
  </head>
  <body>
    <form method="post" action="/chatPost" id="form">
      <div class="main-content">
        <h1>{{.roomName}}</h1>
        <div class="chatList">
          {{$i := .userId}} {{range .chatList}} {{if eq $i .UserID}}
          <!-- 自分が投稿したチャットの内容-->
          <div class="minePost post">
            <!--投稿者-->
            <div class="contributer">{{.Contributer}}</div>
            <!--投稿文-->
            <div class="text">{{.ChatText}}</div>
          </div>
          <br />
          {{else}}
          <!-- 自分以外が投稿したチャットの内容-->
          <div class="otherPost post">
            <!--投稿者-->
            <div class="contributer">{{.Contributer}}</div>
            <!--投稿文-->
            <div class="text">{{.ChatText}}</div>
            <br />
          </div>
          {{end}} {{end}}
        </div>
        <input
          type="text"
          name="chatText"
          placeholder="入力してください"
          style="width: 90%"
          required
        />
        <button
          name="btnPost"
          style="width: 8%"
          onclick="javascript:btnPostClick()"
        >
          投稿
        </button>
      </div>
    </form>
    <!-- モーダルエリアここから -->
    <div id="modal-area">
      <button id="openModal">ルームを作成する</button>
      <form id="formRoomCreate" method="post" action="/doRoomCreate">
        <section id="modalArea" class="modalArea">
          <div id="modalBg" class="modalBg"></div>
          <div class="modalWrapper">
            <div class="modalContents">
              <label for="userName">ルーム名：</label>
              <input
                type="text"
                name="roomName"
                placeholder="ルーム名を入力してください"
                required
              /><br />
              <textarea
                name="discription"
                placeholder="何をするスペースですか？"
              ></textarea>
              <label for="">招待する</label>
              <!--友達一覧を表示して選択-->
              <div>
                {{range .friendList}}
                <input
                  type="checkbox"
                  name="selectFriend"
                  id="selectFriend"
                  value="{{.UserID}}"
                />{{.UserName}}
                <br />
                {{end}}
              </div>
              <button id="btnRoomCreate">作成</button>
            </div>
            <div id="closeModal" class="closeModal">×</div>
          </div>
        </section>
        <input type="hidden" name="selectFriendList" id="selectFriendList" />
      </form>
    </div>
    <!-- モーダルエリアここまで -->

    <!-- ↓body閉じタグ直前でjQueryを読み込む -->
    <script type="text/javascript" src="/js/jquery.min.js"></script>
    <script type="text/javascript" src="/js/chatList.js"></script>
    <script type="text/javascript" src="/js/bootstrap.min.js"></script>
  </body>
</html>
